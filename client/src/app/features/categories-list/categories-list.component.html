<p-card class="categories-list-card">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Categories</h1>
  </div>

  <!-- Search Section -->
  <div class="flex flex-col gap-4 mb-6">
    <p-float-label class="w-full">
      <input
        pInputText
        id="searchInput"
        [ngModel]="searchQuery()"
        (ngModelChange)="searchQuery.set($event); onSearchChange()"
        placeholder="Search categories..."
        class="w-full"
      />
      <label for="searchInput">Search</label>
    </p-float-label>

    <!-- Create Category Option -->
    @if (showCreateCategory()) {
      <div class="flex items-center gap-2 p-3 bg-surface-50 rounded border border-surface-200">
        <span class="text-sm text-surface-600">
          Category "{{ searchQuery() }}" does not exist.
        </span>
        <p-button
          label="Create Category"
          icon="pi pi-plus"
          severity="secondary"
          size="small"
          (click)="onCreateCategoryClick()"
        />
      </div>
    }
  </div>

  <!-- Categories Tags Section -->
  <div class="categories-container">
    @if (filteredCategories().length > 0) {
      <div class="categories-grid">
        @for (category of filteredCategories(); track category.id) {
          <p-tag
            [value]="category.name"
            [style]="{
              'background-color': getCategoryColor(category),
              color: '#fff',
              'border-radius': '20px',
              'font-weight': 'normal',
              padding: '8px 16px',
              cursor: 'default'
            }"
          ></p-tag>
        }
      </div>
    } @else if (searchQuery().trim()) {
      <p class="text-md text-gray-400 text-center py-8">
        No categories found matching "{{ searchQuery() }}"
      </p>
    } @else {
      <p class="text-md text-gray-400 text-center py-8">
        No categories found. Create your first category!
      </p>
    }
  </div>
</p-card>

